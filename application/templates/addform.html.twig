{% extends "base.html.twig" %}
{% block title %}Ajouter{% endblock title %}
    {% block h2 %}Ajouter{% endblock h2 %}
    {% block home %}<a href="/" class="redirect"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" class="home"><path d="M21 13v10h-6v-6h-6v6h-6v-10h-3l12-12 12 12h-3zm-1-5.907v-5.093h-3v2.093l3 3z"/></svg></a>{% endblock home %}


{% block content %}
    <form action="{% block name %}/annonces/ajout/{% endblock name %}" method="post" class="add-form needs-validation" novalidate enctype="multipart/form-data">
        <div class="container col-xxl-5 col-lg-8 ">

            <label for="surname">Nom<span>*</span> : </label>
            <input type="text" name="surname" id="surname" value="{% block surname %}{% endblock surname %}" class="form-control" required>
            <div class="invalid-feedback">
                <p>Veuillez rentrer votre nom</p> 
            </div>

            <label for="firstname">Prénom<span>*</span> :</label>
            <input type="text" name="firstname" id="firstname" value="{% block firstname %}{% endblock firstname %}" class="form-control" required>
            <div class="invalid-feedback">
                <p>Veuillez rentrer votre prénom</p> 
            </div>

            <label for="email">Email<span>*</span> : </label>
            <input type="email" name="email" id="email" value="{% block email %}{% endblock email %}" class="form-control" required>
            <div class="invalid-feedback">
                <p>Veuillez rentrer une adresse email valide</p> 
            </div>

            <label for="phone">Téléphone<span>*</span> : </label>
            <input type="text" name="phone" id="phone" value="{% block phone %}{% endblock phone %}" class="form-control" required>
            <div class="invalid-feedback">
                <p>Veuillez rentrer votre numéro de téléphone</p> 
            </div>

            <label for="title">Titre<span>*</span> : </label>
            <input type="text" name="title" id="title" value="{% block titleform %}{% endblock titleform %}" class="form-control" required maxlength="50">
            <div class="invalid-feedback">
                <p>Veuillez rentrer un titre à votre annonce</p> 
            </div>

            <label for="category">Catégorie<span>*</span> : </label>
            <select name="category" id="category" class="form-control" required>
                <option value="{% block categoryvalue %}{% endblock categoryvalue %}">{% block categoryname %}Choisissez une catégorie{% endblock categoryname %}</option>
                <option value="1">Immobilier</option>
                <option value="2">Auto-Moto</option>
                <option value="3">Emploi</option>
                <option value="4">Animaux</option>
                <option value="5">Services</option>
                <option value="6">Vacances</option>
                <option value="7">Affaires Pro</option>
                <option value="8">Autres</option>
            </select>

            <div class="invalid-feedback">
                <p>Veuillez choisir une catégorie</p> 
            </div>
            
            <label for="price">Prix (en €) : </label>
            <input type="number" name="price" id="price" value="{% block price %}{% endblock price %}" class="form-control">




            <label for="details">Texte de l'annonce<span>*</span> : </label>
            <textarea name="details" id="details" cols="30" rows="7" class="form-control" required>{% block details %}{% endblock details %}</textarea>
            <div class="invalid-feedback">
                <p>Veuillez écrire un descriptif de l'annonce</p> 
            </div>

            <label for="upload" >Ajouter une image : </label>
            <input type="file" name="upload" class="upload">
            {% block img_name %}{% endblock img_name %}
    
            {% block submit %} 
                <div class="submit">
                    <button type="submit" class="btn-danger btn btn-block btn-submit g-recaptcha" data-sitekey="6LcH9MkZAAAAAJ1fSlRnsWaQN-5PixvB0IYwyZEH" data-callback="onSubmit" data-action="submit">Valider</button> {% block delete %}{% endblock delete %}        
                </div>
            {% endblock submit %}
        </div>
    </form>
{% endblock content %}
{% block script %}


    {# <script src="https://www.google.com/recaptcha/api.js"></script>
    <script>
        function onSubmit(token) {
          document.getElementsByClassName(".add-form").submit();
        }
      </script> #}
    <script src="{{basepath}}/script/validation.js"></script>
    
{% endblock script %}

